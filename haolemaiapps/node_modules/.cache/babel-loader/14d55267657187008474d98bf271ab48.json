{"remainingRequest":"C:\\Users\\web\\Desktop\\好乐买客户端\\haolemaiApp\\haolemaiapps\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\好乐买客户端\\haolemaiApp\\haolemaiapps\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\好乐买客户端\\haolemaiApp\\haolemaiapps\\src\\views\\details\\Details.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\好乐买客户端\\haolemaiApp\\haolemaiapps\\src\\views\\details\\Details.vue","mtime":1564129633527},{"path":"C:\\Users\\web\\Desktop\\好乐买客户端\\haolemaiApp\\haolemaiapps\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1562846495184},{"path":"C:\\Users\\web\\Desktop\\好乐买客户端\\haolemaiApp\\haolemaiapps\\node_modules\\babel-loader\\lib\\index.js","mtime":1562846493032},{"path":"C:\\Users\\web\\Desktop\\好乐买客户端\\haolemaiApp\\haolemaiapps\\node_modules\\vue-loader\\lib\\index.js","mtime":1562846528586}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n////<router-link :to=\"`/Details/details?lid=`+lid\">加入购物车</router-link>\nimport TitleBack from \"../../components/TitleBack\"; //引入子组件中的头部标题TitleBack\n\nimport Carousel from \"../../components/Carousel\"; //引入子组件中的轮播图组件Carousel\n\nimport Graphic from \"./Graphic\"; //引入子组件 图文详情\n\nimport Evaluate from \"./Evaluate\"; //引入子组件 热门评论\n\nexport default {\n  //打包后直接可在服务器host里运行\n  data: function data() {\n    return {\n      //  selected:\"加入购物车\", //底部导航   \n      //鞋子尺寸码数分别有哪些\n      action: 0,\n      //切换尺寸的样式\n      imgs: 0,\n      sizenum: {\n        num: '7rem'\n      },\n      active: 'tab1',\n      //图片评论\n      listj: [{\n        img: 'http://127.0.0.1:8095/img/lunbotu/1.jpg'\n      }, {\n        img: 'http://127.0.0.1:8095/img/lunbotu/2.jpg'\n      }, {\n        img: 'http://127.0.0.1:8095/img/lunbotu/3.jpg'\n      }, {\n        img: 'http://127.0.0.1:8095/img/lunbotu/4.jpg'\n      }, {\n        img: 'http://127.0.0.1:8095/img/lunbotu/5.jpg'\n      }],\n      // innerWidth:window.innerWidth,\n      products: {},\n      //这是商品详情数据\n      pics: [],\n      //商品轮播图片\n      specs: [],\n      //商品规格\n      size: [],\n      //鞋子的码数\n      dibu: [],\n      //底部图片\n      sizes: [],\n      //对象转数组\n      lidss: [],\n      img: [] //  lid:[]   //商品编号\n\n    };\n  },\n  methods: {\n    moves: function moves() {\n      //手指滑动屏幕触发11\n      console.log(1111);\n    },\n    goto: function goto(n, index) {\n      sessionStorage.setItem(\"size\", n);\n\n      for (var i = 0; i < this.sizes.length; i++) {\n        if (index == i) {\n          this.action = index; // 再设置一个action可以设置成双向绑定的效果\n        }\n      }\n    },\n    gotoimg: function gotoimg(n, index) {\n      console.log(n);\n      var img = n.img; // 图片的url地址\n\n      sessionStorage.setItem(\"img_url\", img);\n\n      for (var i = 0; i < this.img.length; i++) {\n        if (index == i) {\n          this.imgs = index;\n        }\n      }\n    },\n    adds: function adds() {\n      var _this = this;\n\n      //保存尺寸在客户端方便取出来     //加入购物车\n      //  var flag=true;\n      var size = sessionStorage.getItem(\"size\");\n      var img_url = sessionStorage.getItem(\"img_url\");\n\n      if (size != undefined && img_url != undefined) {\n        var price = this.products.price;\n        var lname = this.products.lname;\n        var subtitle = this.products.subtitle;\n        var title_sec = this.products.title_sec;\n        var title = this.products.title; //lid   price  size  http://127.0.0.1:8095/shopping/add?lid=5&price=66&size=66\n        //  console.log(size);\n        //  console.log(price);\n        //   console.log(this.lidss);\n        //加入购物车\n\n        this.axios.get('shopping/add', {\n          params: {\n            lid: this.lidss,\n            price: price,\n            size: size,\n            img: img_url,\n            lname: lname,\n            subtitle: subtitle,\n            title_sec: title_sec,\n            title: title\n          }\n        }).then(function (res) {\n          console.log(res);\n\n          _this.$toast({\n            message: \"加入购物车成功\",\n            //内容\n            position: \"middle\",\n            //位置\n            duration: 3000,\n            //时间\n            className: \"mytoast\" //添加样式\n            //  iconClass:\"iconfont icon-food-cake\"\n\n          });\n        }).catch(function (err) {\n          console.log(err);\n        });\n      } else {\n        //请选择码数  做一个弹框用mint-ui\n        this.$toast({\n          message: \"请先选择规格\",\n          //内容\n          position: \"middle\",\n          //位置\n          duration: 3000,\n          //时间\n          className: \"mytoast\" //添加样式\n          //  iconClass:\"iconfont icon-food-cake\"\n\n        }); //  console.log('请选择码数');\n      }\n    },\n    //封装Promise方法请求 //多个请求造成回调地狱 所有使用这个封装的方法\n\n    /*  getCount(type){ //type是请求中的prams传过去的值。\n           return new Promise( //中没有return，只能靠开门解决之前的open\n               function(resolve,reject){\n                \n                    this.axios.get(\n               \"/product_list\",{\n                   params:{type} //本来的c参数换成函数的参数type,一样参数和属性的就写一个就可以了\n               }\n           ).then(res=>{\n               resolve(res.data.count); //总数累加\n               //开门（传参） 在下面的 count接着总数累加\n        //Promise中没有return 使用resolve抛出\n              // total+=res.data.count;\n           });\n               }\n           )\n       },*/\n    //限时购\n    brinobj: function brinobj(id) {\n      var timer = null; //这里设置time为null，用于下面来清除计时器\n\n      var obj = document.getElementById(id); //获取到放置时间数据的span的id\n\n      timer = setInterval(function () {\n        //设置定时器，来更新时间\n        var a = new Date(obj.getAttribute(\"data-time\")).getTime(); //上面这一步可能比较复杂，我们首先来看obj.getAttribute(\"data-time\")这一句。这个是用来获取指定标签的data-time属性，\n        //即我们要使用的到期时间，然后来看new Date().getTime(),这一句是用来获取我们所设置到期时间的时间戳，用于下面的计算，这个获取的是固定的数值\n\n        var b = new Date().getTime(); //这是获取当前时间，是一个不固定的数值\n\n        var d = 0,\n            s = 0,\n            h = 0,\n            m = 0; //定义变量\n\n        var ee = obj.getElementsByTagName(\"em\"); //获取布局中的em标签用于存取数据\n\n        d = Math.floor((a - b) / 1000 / 60 / 60 / 24); //获取剩余天数\n\n        h = Math.floor((a - b) / 1000 / 60 / 60 % 24); //获取剩余小时\n\n        m = Math.floor((a - b) / 1000 / 60 % 60); //获取剩余分钟\n\n        s = Math.floor((a - b) / 1000 % 60); //获取剩余秒数\n        //中间这块区域是用来判断，当前时间数值小于10的时候给他前面加个0，这里可以根据具体情况可加可不加，以下同理\n\n        if (d < 10) {\n          d = \"0\" + d;\n        } else if (d < 0) {\n          d = 0;\n        }\n\n        if (h < 10) {\n          h = \"0\" + h;\n        } else if (h < 0) {\n          h = 0;\n        }\n\n        if (m < 10) {\n          m = \"0\" + m;\n        } else if (m < 0) {\n          m = 0;\n        }\n\n        if (s < 10) {\n          s = \"0\" + s;\n        } else if (s < 0) {\n          s = 0;\n        }\n\n        ee[0].innerHTML = d;\n        ee[1].innerHTML = h;\n        ee[2].innerHTML = m;\n        ee[3].innerHTML = s;\n\n        if (a <= b) {\n          //当我们的时间到期的时候，清除计时器，然后把当前标签的内容设置为0；\n          clearInterval(timer);\n          obj.innerHTML = \"\"; //    ee[0].innerHTML = 00;\n          //    ee[0].innerHTML = 00;\n          //   ee[1].innerHTML = 00;\n          //    ee[2].innerHTML = 00;\n        }\n      }, 1000);\n    }\n  },\n  components: {\n    \"titleback\": TitleBack,\n    //注册子组件\n    \"carousel\": Carousel,\n    //轮播的子组件\n    \"graphic\": Graphic,\n    //图文详情\n    \"evaluate\": Evaluate //热门评价\n\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    //加载后发ajxa请求     //this.$router.push('/main?lid=10');\n    this.brinobj(\"reverse\"); //console.log(this.$route.query.lid);\n    //发送请求商品的详情信息\n\n    this.axios.get('details/', {\n      params: {\n        lid: this.$route.query.lid\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      _this2.products = res.data.products; //this.lid\n\n      _this2.pics = res.data.pics;\n      _this2.specs = res.data.specs;\n      _this2.size = res.data.size;\n      _this2.dibu = res.data.dibu;\n      _this2.lidss = _this2.$route.query.lid;\n      var sizes = res.data.size; //把对象转为数组\n\n      var img = res.data.img; //把图片对象转为数组\n      // this.lid=res.data.lid;\n      //  console.log(lid)\n\n      var arr = []; // var arrimg=[];\n      //  for(var i in img){\n      //     arrimg.push(img[i]);\n      // }\n\n      _this2.img = img; //尺寸\n\n      for (var i in sizes[0]) {\n        arr.push(sizes[0][i]);\n      }\n\n      _this2.sizes = arr;\n    });\n\n    Date.prototype.toLocaleString = function () {\n      //  console.log(this.getDate());\n      return this.getFullYear() + \"/\" + (this.getMonth() + 1) + \"/\" + this.getDate() + \"/ \" + this.getHours() + \":\" + this.getMinutes() + \":\" + this.getSeconds();\n    };\n  },\n  props: [\"lid\"],\n  //准备接参数  这是地址栏传的lid  222222\n  created: function created() {}\n};",{"version":3,"sources":["Details.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"main\" @touchmove=\"moves\"><!-- :style=\"{width:innerWidth+'px'}\"-->\r\n        <titleback msg=\"商品详情\" class=\"titleback\"></titleback>\r\n        <carousel :list=pics></carousel>\r\n        <div class=\"title_meg\">\r\n            <div class=\"title_msleft\">\r\n            <span class=\"title_mes\">￥{{products.price}}</span><s class=\"title_sld\">${{products.original}}</s> \r\n            </div>\r\n             <div class=\"title_msright\"><!--2019/8/14 23:59 -->\r\n                <span>距结束</span><span class=\"jieshuee\" id=\"reverse\" :data-time=\"new Date(products.shelf_time).toLocaleString()\">\r\n                <em></em>天\r\n                <em>00</em> <span>:</span>\r\n                <em>00</em> <span>:</span>\r\n                <em>00</em> \r\n                </span>\r\n            </div>\r\n        </div>\r\n\r\n          <div class=\"xiangs\">\r\n              <p>{{products.lname}}</p> \r\n              <p><span>{{products.title}}</span><span>{{products.subtitle}}</span></p>\r\n          </div>\r\n          <div class=\"diyie\">\r\n              <p><span>{{products.title_sec}}</span>{{products.subtitle_sec}}</p>\r\n          </div>\r\n            <p class=\"refund\"><span><img src=\"http://127.0.0.1:8095/img/details/remind.png\" alt=\"\"></span>{{products.promise}}</p>\r\n          <div class=\"paddins\"></div>\r\n          <!-- 规格 -->\r\n          <div class=\"specification\" :style=\"{'padding-bottom':sizenum.num}\">\r\n              <div class=\"colors\">\r\n                  <p class=\"colors_p\">颜色</p>\r\n                  <ul class=\"specification_img\">\r\n                      <li v-for=\"(elem,i) of img\" :key='i' :class=\"imgs==i?'spimg_item':''\" @click=\"gotoimg(elem,i)\"><img :src=\"elem.img\" alt=\"\"></li>\r\n                    \r\n                  </ul>\r\n              </div>\r\n            <!-- 尺寸 -->\r\n                <div class=\"measure\">  \r\n                    <p class=\"me-p\"><span>尺寸</span><router-link to=\"#\" class=\"measur_rout\">尺码对照表</router-link> </p>\r\n                    <div class=\"measure_item\">\r\n                        <ul>\r\n                            <li v-for=\"(elem,i) of sizes\" :key=\"i\" :class=\"action==i?'mead_active':''\" @click=\"goto(elem,i)\">\r\n                                    {{elem}}\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n          </div>\r\n            <div class=\"paddins\"></div>\r\n\r\n            <div class=\"mores\">\r\n                <img src=\"http://127.0.0.1:8095/img/details/corss.png\" alt=\"\" style=\"width:2.5rem;height:2.25rem;margin-right:.5rem;\"><span>CROCS卡骆驰</span><router-link to=\"#\" style=\"float:right;margin-right:2rem;text-decoration: none;color:#666\">更多></router-link>\r\n            </div>\r\n             <div class=\"paddins\"></div>\r\n             <!-- 图文详情 -->\r\n             <div class=\"discuss\">\r\n                 <div class=\"disc_item\">\r\n                     <div @click=\"active='tab1'\" :style=\"active=='tab1' ?'border-bottom:1px solid #d70057;color:#d70057':''\">图文详情</div>\r\n                     <div @click=\"active='tab2'\" :style=\"active=='tab2' ?'border-bottom:1px solid #d70057;color:#d70057':''\">评论晒单(0)</div>\r\n                 </div>\r\n                 <div>\r\n                 <!-- 父面板 -->\r\n                  <mt-tab-container v-model=\"active\">\r\n                 <!-- 子面板 -->\r\n                 <mt-tab-container-item id=\"tab1\">\r\n                         <graphic :list=specs[0] :dibu=dibu></graphic>\r\n                 </mt-tab-container-item>\r\n                 <mt-tab-container-item id=\"tab2\">\r\n                  <div style=\"width:100%;height:500px;\">\r\n                         <evaluate></evaluate>\r\n                        </div>\r\n                     </mt-tab-container-item>\r\n                 </mt-tab-container>\r\n                 </div>\r\n\r\n            \r\n             </div>\r\n                  <!-- 底部导航栏 http://127.0.0.1:8095/shopping/cart-->\r\n                <div class=\"tab_button\">  <!--  http://127.0.0.1:8095/img/details/cart.png -->\r\n                                <!-- http://127.0.0.1:8095/img/details/keep.png -->\r\n                   <div><router-link to=\"/cart\"><img src=\"http://127.0.0.1:8095/img/details/cart.png\"><p>购物车</p></router-link></div>\r\n                   <div><router-link to=\"#\"><img src=\"http://127.0.0.1:8095/img/details/keep.png\"><p>收藏</p></router-link></div>\r\n                   <div @click.prevent=\"adds\"><span class=\"spantext\">加入购物车</span></div>\r\n                </div>\r\n          <!-- <div style=\"width:100%;height:500px;background:red;\"></div> -->\r\n    </div>\r\n</template>\r\n\r\n<script>  ////<router-link :to=\"`/Details/details?lid=`+lid\">加入购物车</router-link>\r\nimport TitleBack from \"../../components/TitleBack\"  //引入子组件中的头部标题TitleBack\r\nimport Carousel from \"../../components/Carousel\"  //引入子组件中的轮播图组件Carousel\r\nimport Graphic from \"./Graphic\"  //引入子组件 图文详情\r\nimport Evaluate from \"./Evaluate\"  //引入子组件 热门评论\r\nexport default {    //打包后直接可在服务器host里运行\r\n    data(){\r\n        return {\r\n          //  selected:\"加入购物车\", //底部导航   \r\n            //鞋子尺寸码数分别有哪些\r\n            action:0,   //切换尺寸的样式\r\n            imgs:0,\r\n           sizenum:{num:'7rem'},\r\n            active:'tab1', //图片评论\r\n            listj:[\r\n                  {img:'http://127.0.0.1:8095/img/lunbotu/1.jpg'},\r\n                  {img:'http://127.0.0.1:8095/img/lunbotu/2.jpg'},\r\n                  {img:'http://127.0.0.1:8095/img/lunbotu/3.jpg'},\r\n                   {img:'http://127.0.0.1:8095/img/lunbotu/4.jpg'},\r\n                    {img:'http://127.0.0.1:8095/img/lunbotu/5.jpg'}\r\n            ],\r\n           // innerWidth:window.innerWidth,\r\n            products:{},  //这是商品详情数据\r\n            pics:[],    //商品轮播图片\r\n            specs:[],  //商品规格\r\n            size:[] ,  //鞋子的码数\r\n            dibu:[],   //底部图片\r\n            sizes:[],   //对象转数组\r\n            lidss:[],\r\n            img:[],\r\n          //  lid:[]   //商品编号\r\n\r\n          }\r\n    },\r\n    methods: {\r\n         moves(){  //手指滑动屏幕触发11\r\n             console.log(1111);\r\n         },\r\n         goto(n,index){\r\n             sessionStorage.setItem(\"size\",n);\r\n                for(var i=0;i<this.sizes.length;i++){\r\n                 if(index==i){\r\n                     this.action=index;  // 再设置一个action可以设置成双向绑定的效果\r\n                 }\r\n             }\r\n         },\r\n         gotoimg(n,index){\r\n             console.log(n);\r\n             var img=n.img;  // 图片的url地址\r\n               sessionStorage.setItem(\"img_url\",img);\r\n    for(var i=0;i<this.img.length;i++){\r\n                 if(index==i){\r\n                     this.imgs=index;    \r\n                 }\r\n             }\r\n         },\r\n           adds(){    //保存尺寸在客户端方便取出来     //加入购物车\r\n           //  var flag=true;\r\n          var  size=sessionStorage.getItem(\"size\");\r\n           var  img_url=sessionStorage.getItem(\"img_url\");\r\n         if(size!=undefined&&img_url!=undefined){\r\n          var price=this.products.price;\r\n          var lname=this.products.lname;\r\n          var subtitle=this.products.subtitle;\r\n          var title_sec=this.products.title_sec;\r\n          var title=this.products.title;\r\n          //lid   price  size  http://127.0.0.1:8095/shopping/add?lid=5&price=66&size=66\r\n         //  console.log(size);\r\n           //  console.log(price);\r\n            //   console.log(this.lidss);\r\n\r\n             //加入购物车\r\n       this.axios.get('shopping/add',{params:{lid:this.lidss,price:price,size:size,img:img_url,lname:lname,subtitle:subtitle,title_sec:title_sec,title:title}}).then(res=>{\r\n           console.log(res)\r\n                this.$toast({\r\n                    message:\"加入购物车成功\",//内容\r\n                    position:\"middle\",   //位置\r\n                    duration:3000,     //时间\r\n                    className:\"mytoast\",//添加样式\r\n                  //  iconClass:\"iconfont icon-food-cake\"\r\n                    });\r\n       }).catch(err=>{console.log(err);\r\n       });\r\n               }else{\r\n               //请选择码数  做一个弹框用mint-ui\r\n              this.$toast({\r\n                    message:\"请先选择规格\",//内容\r\n                    position:\"middle\",   //位置\r\n                    duration:3000,     //时间\r\n                    className:\"mytoast\",//添加样式\r\n                  //  iconClass:\"iconfont icon-food-cake\"\r\n                    });\r\n             //  console.log('请选择码数');\r\n               }\r\n         },\r\n           //封装Promise方法请求 //多个请求造成回调地狱 所有使用这个封装的方法\r\n\r\n          /*  getCount(type){ //type是请求中的prams传过去的值。\r\n                 return new Promise( //中没有return，只能靠开门解决之前的open\r\n                     function(resolve,reject){\r\n                      \r\n                          this.axios.get(\r\n                     \"/product_list\",{\r\n                         params:{type} //本来的c参数换成函数的参数type,一样参数和属性的就写一个就可以了\r\n                     }\r\n                 ).then(res=>{\r\n                     resolve(res.data.count); //总数累加\r\n                     //开门（传参） 在下面的 count接着总数累加\r\n              //Promise中没有return 使用resolve抛出\r\n                    // total+=res.data.count;\r\n                 });\r\n                     }\r\n                 )\r\n             },*/\r\n        \t\t\t//限时购\r\n\t\t\t brinobj(id){\r\n  var timer = null;//这里设置time为null，用于下面来清除计时器\r\n        var obj = document.getElementById(id)//获取到放置时间数据的span的id\r\n        timer = setInterval(function(){//设置定时器，来更新时间\r\n                var a = new Date((obj.getAttribute(\"data-time\"))).getTime();\r\n                //上面这一步可能比较复杂，我们首先来看obj.getAttribute(\"data-time\")这一句。这个是用来获取指定标签的data-time属性，\r\n //即我们要使用的到期时间，然后来看new Date().getTime(),这一句是用来获取我们所设置到期时间的时间戳，用于下面的计算，这个获取的是固定的数值\r\n                var b = new Date().getTime();//这是获取当前时间，是一个不固定的数值\r\n                var d = 0,s=0,h=0,m=0;//定义变量\r\n                var ee = obj.getElementsByTagName(\"em\")//获取布局中的em标签用于存取数据\r\n                d = Math.floor((a - b)/1000/60/60/24);//获取剩余天数\r\n                h = Math.floor((a - b)/1000/60/60%24);//获取剩余小时\r\n                m = Math.floor((a - b)/1000/60%60);//获取剩余分钟\r\n                s = Math.floor((a - b)/1000%60);//获取剩余秒数\r\n                //中间这块区域是用来判断，当前时间数值小于10的时候给他前面加个0，这里可以根据具体情况可加可不加，以下同理\r\n                if(d < 10){\r\n                    d = \"0\" + d\r\n                }else if(d < 0){\r\n                    d = 0\r\n                }\r\n                if(h < 10){\r\n                    h = \"0\" + h\r\n                }else if(h < 0){\r\n                    h = 0\r\n                }\r\n                if(m < 10){\r\n                    m = \"0\" + m;\r\n                }else if(m < 0){\r\n                    m = 0;\r\n                }\r\n                if(s < 10){\r\n                    s = \"0\" + s;\r\n                }else if(s < 0){\r\n                    s = 0;\r\n                }\r\n                ee[0].innerHTML = d;\r\n                ee[1].innerHTML = h;\r\n                ee[2].innerHTML = m;\r\n                ee[3].innerHTML = s;\r\n                if(a <= b){//当我们的时间到期的时候，清除计时器，然后把当前标签的内容设置为0；\r\n                    clearInterval(timer);\r\n                    obj.innerHTML=\"\";\r\n                //    ee[0].innerHTML = 00;\r\n                //    ee[0].innerHTML = 00;\r\n                 //   ee[1].innerHTML = 00;\r\n                //    ee[2].innerHTML = 00;\r\n                }\r\n            },1000)\r\n            }\r\n\t  \r\n    \r\n    \r\n    },\r\n\r\n    components:{\r\n       \"titleback\":TitleBack , //注册子组件\r\n       \"carousel\":Carousel,   //轮播的子组件\r\n       \"graphic\":Graphic,   //图文详情\r\n       \"evaluate\":Evaluate  //热门评价\r\n    },\r\n    mounted() { //加载后发ajxa请求     //this.$router.push('/main?lid=10');\r\n        this.brinobj(\"reverse\");\r\n          //console.log(this.$route.query.lid);\r\n     //发送请求商品的详情信息\r\n    this.axios.get('details/',{params:{lid:this.$route.query.lid}}).then(res=>{\r\n        console.log(res.data)\r\n         this.products=res.data.products;\r\n         //this.lid\r\n         this.pics=res.data.pics;\r\n         this.specs=res.data.specs;\r\n        this.size=res.data.size;\r\n        this.dibu=res.data.dibu;\r\n        this.lidss=this.$route.query.lid;\r\n        \r\n         var sizes=res.data.size; //把对象转为数组\r\n         var img=res.data.img;  //把图片对象转为数组\r\n        // this.lid=res.data.lid;\r\n       //  console.log(lid)\r\n        var arr=[];\r\n        // var arrimg=[];\r\n        //  for(var i in img){\r\n        //     arrimg.push(img[i]);\r\n        // }\r\n        this.img=img;\r\n        //尺寸\r\n        for(var i in sizes[0]){\r\n            arr.push(sizes[0][i]);\r\n        }\r\n        this.sizes=arr;\r\n         });\r\n   Date.prototype.toLocaleString = function() {\r\n     //  console.log(this.getDate());\r\n          return this.getFullYear() + \"/\" + (this.getMonth() + 1) + \"/\" + this.getDate() + \"/ \" + this.getHours() + \":\" + this.getMinutes() + \":\" + this.getSeconds();\r\n         }\r\n    },\r\n\r\n    props:[\"lid\"], //准备接参数  这是地址栏传的lid  222222\r\n\r\n    created(){  \r\n\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .spantext{color:white;}\r\n      /*mint-ui弹出请选择尺码的样式*/\r\n    .mytoast{\r\n  background-color:#fff !important;\r\n  color:#e4393c !important;\r\n  font-size:19px !important;\r\n  border:1px solid #333  !important; \r\n}\r\n    /*底部导航*/\r\n    .tab_button{width:100%;height: 3.5rem;position: fixed;bottom: 0;display:flex;}\r\n    .tab_button div:nth-child(1){width:25%;box-sizing: border-box;text-align: center;background-color: #FFFFFF;border-top:1px solid #e8e8e8;border-right: 1px solid #e8e8e8;}\r\n     .tab_button div:nth-child(1) a{font-size: .75rem;color:#7A7D81;text-decoration: none;padding-top: .63rem;}\r\n     .tab_button div:nth-child(1) a img{width:1.9rem;height: 1.7rem;margin-top: .3rem;}\r\n\r\n     .tab_button div:nth-child(2){width:25%;box-sizing: border-box;background-color: #FFFFFF;text-align: center;border-top: 1px solid #e8e8e8;}\r\n      .tab_button div:nth-child(2) a{font-size: .75rem;color:#7A7D81;text-decoration: none;padding-top: .63rem;}\r\n      .tab_button div:nth-child(2) a img{width:1.9rem;height: 1.7rem;margin-top: .3rem;}\r\n      .tab_button div:nth-child(3){width:50%;background-color: #D70057;box-sizing: border-box;text-align: center;line-height: 3.2rem;}\r\n      .tab_button div:nth-child(3) a{text-decoration: none;color:white;font-weight: bold;}\r\n    /*商品信息*/\r\n    /*评论*/\r\n    .disc_item{height: 3rem;width:100%;}\r\n    .disc_item div{text-align:center;width:50%;height: 3rem;line-height: 3rem;float: left;box-sizing: border-box;}\r\n    .discuss{width:100%;}\r\n     /* 更多 */\r\n     .measur_rout{float: right;color: #D70057;font-weight: bold;font-size:.6rem;text-decoration: none;margin-right: 2rem;}\r\n     .mores{width: 100%;height: 2.25rem;line-height: 2.25rem;padding-left: 1rem;font-size: .75rem;}\r\n    /* 尺寸 */\r\n    .measure_item ul{width:100%;height: 3rem;list-style: none;margin-top: .75rem;padding-bottom: 1.5rem;}\r\n    .measure_item ul li{width:3.5rem;height: 2.5rem;line-height:2.5rem;list-style: none;float: left;background-color: #F4F4F4;text-align: center;margin-right: .5rem;border-radius: 10%;margin-top: 1rem;}\r\n    /*尺寸样式*/\r\n    .measure_item ul .mead_active{background: #D70057!important;}\r\n    .measure{width:100%;clear: both;}\r\n    .measure .me-p{padding-top: 2rem;}\r\n    /* 规格 */\r\n    img{width:100%;vertical-align: top;}\r\n    .specification_img .spimg_item{border:1px solid #D70057;}\r\n    .specification_img{width: 100%;list-style: none;}\r\n    .specification_img li{float: left;margin-right: 1rem;width:2.4rem;height: 2.4rem;border:1px solid #c3c3c3;}\r\n     .specification_img li img{width:2.4rem;height: 2.4rem;}\r\n    .specification{width:100%;padding-left: 1rem;}\r\n     .specification .colors{color: #333; font-size: 1rem;}\r\n     .colors .colors_p{padding:1.5rem 0 1rem 0;}\r\n     /* 退货 */\r\n    .diyie{padding-left: 1rem;width:100%;}\r\n    .diyie p:first-child{ color: #B1B1B3; font-size: .8rem;height: 3.5rem;line-height: 3.5rem;}\r\n        .main .diyie p:first-child span:first-child{padding: 3px 4px;background-color: #D70057;font-size: .65rem;color:white;border-radius: 3px;}\r\n          .refund{font-size: .65rem;color:#000;height: 3.5rem;line-height: 3.5rem;background-color: #F8F8F8;padding-left: 1rem;}\r\n           .refund span img{width:1rem;height: 1rem;vertical-align: -1px;margin-right: .8rem;}\r\n       \r\n     .main .xiangs{padding-left:1rem;width:100%;border-bottom: 1px solid #E0E0E0;padding-bottom: 1rem;}\r\n     .main .xiangs p:first-child{line-height: 1rem;\r\n    color: #000;\r\n    font-size: 1rem;}\r\n      .main .xiangs p:nth-child(2){line-height: 1rem;margin-top: 2rem;font-size: 1rem;}\r\n       .main .xiangs p:nth-child(2) span:first-child{padding: 3px 4px;background-color: #D70057;font-size: .65rem;color:white;border-radius: 3px;}\r\n         .main .xiangs p:nth-child(2) span:nth-child(2){font-size: .85rem;color:#B1B1B3;}\r\n        /* .main{width:100%;}*/\r\n    /*头部*/\r\n    .titleback{position: fixed;top:0;z-index: 100;width:100%;}\r\n     /*结束倒计时*/\r\n   #reverse em{background-color: black;color: white;padding: 3px;font-style: inherit;font-size:.6rem;}\r\n    #reverse em:first-child{margin-left: 10px;}\r\n   .title_meg{width:100%;height: 3rem;display: flex;line-height: 3rem;margin-top: 1rem;}\r\n   .title_msleft{width:40%;color:#D70057;padding-left:1rem;}\r\n   .title_msright{line-height: .8rem;text-align: right;padding-right: 1rem;\r\n    color: #666;\r\n    font-size: .6rem;width:60%;height: 3rem;line-height: 3rem;}\r\n   .title_mes{font-size: 1.3rem;padding-right: 1rem;}\r\n   .title_sld{color:#c3c3c3;font-size: .5rem;}\r\n   .paddins{width:100%;height: 1rem;background-color:#EEEEEE;}\r\n</style>"],"sourceRoot":"src\\views\\details"}]}